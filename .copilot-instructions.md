# GitHub Copilot Instructions for Temple3 Project

## Primary Directive
**ALWAYS** reference and follow the `PLAN.md` file as the authoritative guide for this project. The plan contains:
- Complete project architecture
- Development phases and timelines
- Technical implementation guidelines
- Design requirements and decisions
- Progress tracking and status

## Core Rules

### 1. Plan Adherence
- **BEFORE** starting any new feature or component, check `PLAN.md` for:
  - Current development phase
  - Component structure requirements
  - Design patterns to follow
  - Technical implementation guidelines
- **ALWAYS** update `PLAN.md` when:
  - Completing tasks (mark items as ✅)
  - Making architectural decisions
  - Changing requirements or scope
  - Encountering blockers or issues

### 2. Project Structure
- Follow the exact folder structure defined in `PLAN.md`
- Use the naming conventions specified in the plan
- Place components in their designated directories
- Maintain consistency with the established patterns

### 3. Technology Stack Compliance
- **Frontend**: React 18 + Vite (as specified in plan)
- **Styling**: Tailwind CSS only
- **UI Components**: Headless UI for complex components
- **Icons**: Heroicons
- **HTTP Client**: Axios with interceptors
- **State Management**: React Context + useReducer
- **Do NOT** introduce other libraries without updating the plan first

### 4. Design System Requirements
- Use the color palette defined in `PLAN.md`
- Follow the typography guidelines (Inter fonts, 16px base)
- Implement the component patterns (cards, rounded corners, spacing scale)
- Ensure accessibility (ARIA labels, keyboard navigation)
- Make all components responsive and mobile-friendly

### 5. Permission System
- **ALWAYS** implement role-based access control
- Use the permission checking patterns from `PLAN.md`
- Hide features for unauthorized users (don't just disable)
- Support granular permissions as specified

### 6. API Integration Standards
- Use the base API configuration from `PLAN.md`
- Include tenant and auth headers in all requests
- Implement proper error handling and loading states
- Follow the service layer pattern defined in the plan

### 7. Code Quality Standards
- Write clean, readable code with proper comments
- Use consistent naming conventions
- Implement proper error boundaries
- Add loading states for all async operations
- Validate props and handle edge cases

### 8. Progress Tracking
- **ALWAYS** update the "Progress Tracking" section in `PLAN.md` when:
  - Starting a new phase
  - Completing features or components
  - Encountering blockers
  - Making significant progress
- Mark completed items with ✅ in the plan
- Update the "Current Status" section regularly

## Development Workflow

### Before Starting Any Task:
1. Read the current phase requirements in `PLAN.md`
2. Check the component structure and placement
3. Review the technical implementation guidelines
4. Understand the design requirements

### During Development:
1. Follow the established patterns and conventions
2. Implement proper error handling and loading states
3. Ensure accessibility and responsive design
4. Test functionality across different user roles

### After Completing Tasks:
1. Update `PLAN.md` with completed items (✅)
2. Update progress tracking section
3. Note any decisions or changes made
4. Prepare for the next phase if current phase is complete

## Specific Implementation Guidelines

### Component Development
- Create reusable components in `src/components/shared/`
- Use feature-specific folders for complex components
- Implement proper PropTypes or TypeScript
- Add error boundaries where appropriate

### State Management
- Use AuthContext for authentication state
- Use TenantContext for multi-tenant data
- Use NotificationContext for app-wide notifications
- Keep component state local when possible

### Routing and Navigation
- Use React Router v6 for client-side routing
- Implement protected routes for authenticated features
- Support deep linking to specific sections
- Maintain smooth scrolling navigation as specified

### Styling Approach
- Use Tailwind utility classes exclusively
- Create custom CSS only when necessary
- Follow the design system color palette
- Implement consistent spacing and typography

## Communication Guidelines

### When Asking for Clarification:
- Reference the specific section in `PLAN.md`
- Explain what you've already checked in the plan
- Propose solutions based on the existing architecture

### When Reporting Progress:
- Update the plan file with specific completions
- Note any deviations from the original plan
- Explain architectural decisions made

### When Encountering Issues:
- Check if the issue is addressed in `PLAN.md`
- Update the "Blockers" section in progress tracking
- Propose solutions that align with the project architecture

## File Organization Rules

### Never Create Files Outside The Plan Structure
- All components must go in designated folders
- Follow the exact naming conventions from `PLAN.md`
- Create missing directories as needed following the structure

### Configuration Files
- Keep all config files in project root
- Follow the patterns established in the plan
- Update plan when adding new configuration

## Quality Assurance

### Before Committing Code:
- [ ] Code follows the patterns in `PLAN.md`
- [ ] Components are in correct directories
- [ ] Error handling is implemented
- [ ] Loading states are included
- [ ] Accessibility is considered
- [ ] Mobile responsiveness is tested
- [ ] Plan is updated with progress

### Testing Approach
- Test with different user roles
- Verify permission system works correctly
- Check responsive design on various screen sizes
- Validate API integration and error handling

## Emergency Procedures

### If Plan Becomes Outdated:
1. Stop current development
2. Review and update `PLAN.md` with current reality
3. Align future development with updated plan
4. Document reasons for changes

### If Requirements Change:
1. Update relevant sections in `PLAN.md`
2. Assess impact on existing development
3. Adjust timelines and phases as needed
4. Communicate changes clearly

---

**Remember: The PLAN.md file is the single source of truth for this project. When in doubt, always refer to the plan and update it as the project evolves.**